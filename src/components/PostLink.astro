---
// interface Props {
//   url: string;
//   postInfo: {
//     title: string;
//     pubDate: string;
//     description: string;
//     author: string;
//     image_url?: string;
//     image_alt?: string;
//     video_url?: string;
//     type: string[];
//     tags: string[];
//   };
// }

const { url, postInfo } = Astro.props;

const {
  author,
  title,
  description,
  pubDate,
  image_url,
  image_alt,
  video_url,
  type,
  tags,
} = postInfo;

const date = new Date(pubDate);
const formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
---

<a href={url}>
  <article
    class="flex flex-col bg-blue-950 rounded-lg w-full h-full border-2 border-transparent hover:border-accent-1 hover:shadow-lg hover:scale-[1.01] transition duration-300 relative group shadow-accent-1 overflow-hidden hover:[box-shadow:_0_0_8px_var(--tw-shadow-color)]"
  >
    {
      image_url && (
        <header class="">
          <img
            src={image_url}
            alt={image_alt ?? `Imagen de portada de ${title}`}
            class="object-cover"
          />
        </header>
      )
    }
    <div
      class="relative flex flex-col gap-2 p-4 [text-shadow:_2px_2px_5px_var(--tw-shadow-color)] shadow-black"
    >
      {
        image_url && (
          <img
            src={image_url}
            alt={image_alt ?? `Imagen de portada de ${title}`}
            class="mirror absolute inset-0 w-full h-min duration-500 opacity-0  blur group-hover:opacity-50  -z-10 -scale-y-100"
          />
        )
      }
      <header class="flex flex-col gap-1 text-accent-1">
        <h4 class="text-lg text-secondary/70">{author}</h4>
        <h3 class="text-xl">{title}</h3>
      </header>
      <section class="flex flex-col gap-2">
        <p>{description}</p>
      </section>
      <footer>
        <p>{formattedDate}</p>
      </footer>
    </div>
  </article>
</a>
<style>
  .mirror {
    mask-image: linear-gradient(
      to top, 
      black 60%, 
      transparent 90%
    );
    /* filter: blur(8px); */
  }
</style>
